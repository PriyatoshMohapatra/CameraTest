webpackJsonp([1],{0:function(e,t,o){e.exports=o("cDNt")},"TU+8":function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=o("/wY1"),n=(o.n(i),o("+iEx")),a=(o.n(n),o("eFQL"));o.n(a)},Wo4E:function(e,t){e.exports='<div id="ng2-webcam">\n\n  <video id="video" *ngIf="isSupportWebRTC" [src]="videoSrc">Video stream not available</video>\n\n  \x3c!-- <object *ngIf="isFallback" id="XwebcamXobjectX" width="320" height="240" data="node_modules/ng2-webcam/lib/fallback/jscam_canvas_only.swf">\n    Video stream not available\n    <param name="FlashVars" value="mode=callback&amp;quality=200">\n    <param name="allowScriptAccess" value="always">\n    <param name="movie" value="node_modules/ng2-webcam/lib/fallback/jscam_canvas_only.swf">\n  </object> --\x3e\n\n</div>'},YuZA:function(e,t){function o(e){return Promise.resolve().then(function(){throw new Error("Cannot find module '"+e+"'.")})}o.keys=function(){return[]},o.resolve=o,e.exports=o,o.id="YuZA"},cDNt:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});o("TU+8");var i=o("x8Hs"),n=o("LMZF"),a=o("RyBE"),r=o("0nO6"),s=function(){function e(e){this.cam=e}return e.implementExternal=function(e){window.webcam={debug:e.debug,onCapture:e.onCapture,onTick:e.onTick,onSave:e.onSave}},e.prototype.capture=function(e){try{return this.cam.capture(e)}catch(e){console.error(e)}},e.prototype.save=function(e){try{return this.cam.save(e)}catch(e){console.error(e)}},e.prototype.setCamera=function(e){try{return this.cam.setCamera(e)}catch(e){console.error(e)}},e.prototype.getCameraSize=function(){try{return{width:this.cam.width,height:this.cam.height}}catch(e){console.error(e)}},e.prototype.getCameraList=function(){try{return this.cam.getCameraList()}catch(e){console.error(e)}},e}(),c=this&&this.__decorate||function(e,t,o,i){var n,a=arguments.length,r=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,i);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(r=(a<3?n(r):a>3?n(t,o,r):n(t,o))||r);return a>3&&r&&Object.defineProperty(t,o,r),r},l=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},d=function(){function e(){var e=this;this.options={audio:!1,video:!0,width:320,height:240,fallbackQuality:200,fallbackSrc:"lib/fallback/jscam_canvas_only.swf"},this.onSuccess=function(t){t instanceof s&&(e.flashPlayer=t,e.onFallback()),console.log("capturing video stream")},this.onError=function(e){console.log(e)}}return e.prototype.onFallback=function(){var e=this,t=document.getElementsByTagName("canvas")[0];if(t){var o=t.getContext("2d"),i=e.flashPlayer.getCameraSize(),n=i.width,a=i.height,r={imgData:o.getImageData(0,0,n,a),pos:0};t.width=n,t.height=a,o.clearRect(0,0,n,a),s.implementExternal({onSave:function(e){try{for(var t=e.split(";"),i=null,s=0;s<n;s++)i=parseInt(t[s],10),r.imgData.data[r.pos+0]=i>>16&255,r.imgData.data[r.pos+1]=i>>8&255,r.imgData.data[r.pos+2]=255&i,r.imgData.data[r.pos+3]=255,r.pos+=4;r.pos>=4*n*a&&(o.putImageData(r.imgData,0,0),r.pos=0)}catch(e){console.error(e)}},debug:function(e,t){console.log(e,t)},onCapture:function(){e.flashPlayer.save()},onTick:function(e){}})}},e.prototype.capture=function(){var e=document.getElementsByTagName("video")[0],t=document.getElementsByTagName("canvas")[0];e?(t.width=e.videoWidth,t.height=e.videoHeight,t.getContext("2d").drawImage(e,0,0)):this.flashPlayer.capture()},e=c([Object(n.m)({selector:"my-app",template:o("efyd"),styles:[o("hxJY")]}),l("design:paramtypes",[])],e)}(),p=this&&this.__decorate||function(e,t,o,i){var n,a=arguments.length,r=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,i);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(r=(a<3?n(r):a>3?n(t,o,r):n(t,o))||r);return a>3&&r&&Object.defineProperty(t,o,r),r},h=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},u=function(){function e(e,t){this.sanitizer=e,this.element=t,this.isFallback=!1,this.isSupportWebRTC=!1,this.browser=navigator}return e.prototype.ngOnInit=function(){var e=this;this.browser.getUserMedia_=this.browser.getUserMedia||this.browser.webkitGetUserMedia||this.browser.mozGetUserMedia||this.browser.msGetUserMedia,void 0===this.browser.mediaDevices&&this.browser.getUserMedia_&&(this.browser.mediaDevices={}),this.browser.mediaDevices&&void 0===this.browser.mediaDevices.getUserMedia&&this.browser.getUserMedia_&&(this.browser.mediaDevices.getUserMedia=function(t){return new Promise(function(o,i){e.browser.getUserMedia_.call(e.browser,t,o,i)})}),this.isSupportWebRTC=!(!this.browser.mediaDevices||!this.browser.mediaDevices.getUserMedia),this.options.fallbackSrc=this.options.fallbackSrc||"node_modules/ng2-webcam/lib/fallback/jscam_canvas_only.swf",this.options.fallbackMode=this.options.fallbackMode||"callback",this.options.fallbackQuality=this.options.fallbackQuality||85,this.options.width=this.options.width||320,this.options.height=this.options.height||240,this.options.cameraType=this.options.cameraType||"front",this.isFallback=!this.isSupportWebRTC&&!!this.options.fallbackSrc},e.prototype.ngAfterViewInit=function(){this.startCapturingVideo()},e.prototype.onWebRTC=function(){var e=this;if(this.browser.mediaDevices.enumerateDevices&&this.options.video){var t=this.options.cameraType;this.browser.mediaDevices.enumerateDevices().then(function(o){o.forEach(function(o){o&&"videoinput"===o.kind&&o.label.toLowerCase().search(t)>-1&&(e.options.video={deviceId:{exact:o.deviceId},facingMode:"environment"})}),e.setWebcam()})}else this.setWebcam()},e.prototype.setWebcam=function(){var e,t,o,i,n=this,a={audio:!1,video:!1},r="";this.options.video&&(a.video=this.options.video,r="video"),!0===this.options.audio&&(a.audio=!0,""!==r&&(r+=", "),r+="audio"),e=this.element.nativeElement.querySelector("#ng2-webcam"),(t=this.element.nativeElement.querySelector("video")).autoplay=!0,o=parseInt(e.offsetWidth,10),i=parseInt(e.offsetHeight,10),this.options.width<o&&this.options.height<i&&(this.options.width=o,this.options.height=i),t.width=this.options.width,t.height=this.options.height,t.autoplay=!0;new Promise(function(e,t){try{n.browser.mediaDevices.getUserMedia(a).then(function(t){return e(t)}).catch(function(o){n.browser.mediaDevices.getUserMedia(a).then(function(t){return e(t)}).catch(function(e){console.error(o),console.error(e),t(new Error("Both configs failed. Neither object nor string works"))})})}catch(e){t(e)}}).then(function(e){var t=URL.createObjectURL(e);n.videoSrc=n.sanitizer.bypassSecurityTrustResourceUrl(t),n.onSuccess(e)}).catch(function(e){n.onError(e)})},e.prototype.addFallbackParams=function(e){var t=document.createElement("param");t.name="FlashVars",t.value="mode="+this.options.fallbackMode+"&amp;quality="+this.options.fallbackQuality,e.appendChild(t);var o=document.createElement("param");o.name="allowScriptAccess",o.value="always",e.appendChild(o),e.classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000";var i=document.createElement("param");i.name="movie",i.value=this.options.fallbackSrc,e.appendChild(i),e.data=this.options.fallbackSrc},e.prototype.onFallback=function(){if(this.options){var e=this,t=e.element.nativeElement.querySelector("#XwebcamXobjectX");t.width=e.options.width,t.height=e.options.height,this.addFallbackParams(t),function o(i){void 0!==t.capture?e.onSuccess(new s(t)):0===i?e.onError(new Error("Flash movie not yet registered!")):window.setTimeout(o,1e3*(4-i),i-1)}(3)}else console.error("WebCam options is require")},e.prototype.startCapturingVideo=function(){return this.isSupportWebRTC?this.onWebRTC():this.isFallback?this.onFallback():void console.error("WebCam not supported")},p([Object(n.z)(),h("design:type",Object)],e.prototype,"options",void 0),p([Object(n.z)(),h("design:type",Function)],e.prototype,"onSuccess",void 0),p([Object(n.z)(),h("design:type",Function)],e.prototype,"onError",void 0),e=p([Object(n.m)({selector:"ng2-webcam",template:o("Wo4E")}),h("design:paramtypes",[a.b,n.r])],e)}(),f=this&&this.__decorate||function(e,t,o,i){var n,a=arguments.length,r=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,i);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(r=(a<3?n(r):a>3?n(t,o,r):n(t,o))||r);return a>3&&r&&Object.defineProperty(t,o,r),r},m=function(){function e(){}return e=f([Object(n.E)({imports:[a.a,r.a],declarations:[d,u],bootstrap:[d]})],e)}();Object(i.a)().bootstrapModule(m).then(function(e){window.ngRef&&window.ngRef.destroy(),window.ngRef=e}).catch(function(e){return console.error(e)})},efyd:function(e,t){e.exports='<div id="app-component">\n  <div class="webcam">\n  <ng2-webcam [options]="options" [onSuccess]="onSuccess" [onError]="onError"></ng2-webcam>\n  </div>\n  <div>\n    <canvas></canvas>\n  </div>\n  <div>\n    <button (click)="capture()">Capture</button>\n  </div>\n</div>'},hxJY:function(e,t,o){(e.exports=o("rP7Y")(!1)).push([e.i,"body{background:#f7f7f7;margin:0;padding:0}#video-container{margin:2em auto 0;width:500px;padding:2em;background:#fff;-ms-box-shadow:0 1px 10px #d9d9d9;-o-box-shadow:0 1px 10px #d9d9d9;box-shadow:0 1px 10px #d9d9d9}",""]),e.exports=e.exports.toString()}},[0]);